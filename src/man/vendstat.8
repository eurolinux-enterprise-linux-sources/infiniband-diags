.TH VENDSTAT 8 "February 10, 2010" "OpenIB" "OpenIB Diagnostics"

.SH NAME
vendstat \- query InfiniBand vendor specific functions

.SH SYNOPSIS
.B vendstat
[\-d(ebug)] [\-G(uid)] [\-N] [\-w] [\-i] [\-c <num,num>]
[\-C ca_name] [\-P ca_port] [\-t(imeout) timeout_ms]
[\-V(ersion)] [\-h(elp)] <lid|guid>

.SH DESCRIPTION
.PP
vendstat uses vendor specific MADs to access beyond the IB spec
vendor specific functionality. Currently, there is support for
Mellanox InfiniSwitch-III (IS3) and InfiniSwitch-IV (IS4).

.SH OPTIONS

.PP
.TP
\fB\-N\fR
show IS3 or IS4 general information.
.TP
\fB\-w\fR
show IS3 port xmit wait counters.
.TP
\fB\-i\fR
show IS4 counter group info.
.TP
\fB\-c\fR <num,num>
configure IS4 counter groups.

Configure IS4 counter groups 0 and 1. Such configuration
is not persistent across IS4 reboot.
First number is for counter group 0 and second is for
counter group 1.

Group 0 counter config values:
 0 - PortXmitDataSL0-7
 1 - PortXmitDataSL8-15
 2 - PortRcvDataSL0-7

Group 1 counter config values:
 1 - PortXmitDataSL8-15
 2 - PortRcvDataSL0-7
 8 - PortRcvDataSL8-15

.SH COMMON OPTIONS

Most OpenIB diagnostics take the following common flags. The exact list of
supported flags per utility can be found in the usage message and can be shown
using the util_name -h syntax.

# Debugging flags
.PP
\-d      raise the IB debugging level.
        May be used several times (-ddd or -d -d -d).
.PP
\-e      show send and receive errors (timeouts and others)
.PP
\-h      show the usage message
.PP
\-v      increase the application verbosity level.
        May be used several times (-vv or -v -v -v)
.PP
\-V      show the version info.

# Addressing flags
.PP
\-G      use GUID address argument. In most cases, it is the Port GUID.
        Example:
        "0x08f1040023"
.PP
\-s <smlid>      use 'smlid' as the target lid for SM/SA queries.

# Other common flags:
.PP
\-C <ca_name>    use the specified ca_name.
.PP
\-P <ca_port>    use the specified ca_port.
.PP
\-t <timeout_ms> override the default timeout for the solicited mads.

Multiple CA/Multiple Port Support

When no IB device or port is specified, the port to use is selected
by the following criteria:
.PP
1. the first port that is ACTIVE.
.PP
2. if not found, the first port that is UP (physical link up).

If a port and/or CA name is specified, the user request is
attempted to be fulfilled, and will fail if it is not possible.

.SH EXAMPLES

.PP
vendstat -N 6		# read IS3 or IS4 general information
.PP
vendstat -w 6		# read IS3 port xmit wait counters
.PP
vendstat -i 6 12	# read IS4 port 12 counter group info
.PP
vendstat -c 0,1 6 12	# configure IS4 port 12 counter groups for PortXmitDataSL
.PP
vendstat -c 2,8 6 12	# configure IS4 port 12 counter groups for PortRcvDataSL

.SH AUTHOR
.TP
Hal Rosenstock
.RI < hal.rosenstock@gmail.com >
